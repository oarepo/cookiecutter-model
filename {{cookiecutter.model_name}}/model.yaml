$defs:
  use:
  - ./definitions.yaml

record:
  use:
  - invenio
{%- if cookiecutter.use_files == "yes" %}
  - ./files.yaml
{%- endif %}
{%- if cookiecutter.base_model_use != '(none)' %}
  - {{ cookiecutter.base_model_use }}
{%- endif %}
{%- if cookiecutter.use_expandable_fields == "yes" %}
  - ./expandable_fields.yaml
{%- endif %}
{%- if cookiecutter.use_custom_fields == "yes" %}
  - ./custom_fields.yaml
{%- endif %}
  properties:
    metadata:
      properties:
        use: ./metadata.yaml
{%- if cookiecutter.permissions_presets != "no" %}
  permissions:
    presets:
    - {{ cookiecutter.permissions_presets }}
{%- endif %}
{%- if cookiecutter.pid_type %}
  pid:
    type: {{ cookiecutter.pid_type }}
{%- endif %}
{%- if cookiecutter.use_drafts == "yes" %}
  draft: {}
{%- endif %}
{%- if cookiecutter.use_drafts == "yes" and cookiecutter.use_files == "yes" %}
  draft-files: {}
{%- endif %}

# normally there is no need to modify the settings bellow, but feel free
  module:
    qualified: {{ cookiecutter.model_package }}

{%- if cookiecutter.base_model_package != '(none)' %}
  record-service-config-components:
    - invenio_records_resources.services.records.components.DataComponent
    - invenio_records_resources.services.records.components.RelationsComponent
  vocabularies:
    schema: nr-vocabularies
    record-class: nr_vocabularies.records.api.NRVocabulary
  supported-langs:
    cs: {}
    en: {}
{% endif %}

{%- if cookiecutter.use_requests == "yes" %}
use:
{%- if cookiecutter.use_requests == "yes" %}
- ./requests.yaml
{%- endif %}
{%- endif %}
